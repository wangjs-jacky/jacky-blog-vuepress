(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{477:function(s,a,e){"use strict";e.r(a);var n=e(19),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"_0-前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-前言"}},[s._v("#")]),s._v(" 0.前言")]),s._v(" "),e("p",[s._v("包管理器知识补漏："),e("code",[s._v("npx")]),s._v("。")]),s._v(" "),e("h2",{attrs:{id:"_1-npm-主要使用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-npm-主要使用场景"}},[s._v("#")]),s._v(" 1. "),e("code",[s._v("npm")]),s._v(" 主要使用场景")]),s._v(" "),e("h3",{attrs:{id:"_1-1-快速执行node-modules-内部模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-快速执行node-modules-内部模块"}},[s._v("#")]),s._v(" 1.1 快速执行"),e("code",[s._v("node_modules")]),s._v(" 内部模块")]),s._v(" "),e("p",[s._v("一般情况下，如果我们要使用本地安装模块，有两种方法：")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("只能在在"),e("code",[s._v("package.json")]),s._v("的"),e("code",[s._v("script")]),s._v("字段("),e("code",[s._v("Manifest")]),s._v(") 中添加指令，如下：")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"script"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  ......\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("终端中输入：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v(" node-modules/.bin/mocha --version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("p",[s._v("除了上面两种方法外，可以使用"),e("code",[s._v("npx")]),s._v(" 指令，该指令会自动去以下目录寻找：")]),s._v(" "),e("ol",[e("li",[e("code",[s._v("node_modules/.bin")]),s._v(" 路径")]),s._v(" "),e("li",[s._v("环境变量"),e("code",[s._v("$PATH")])])]),s._v(" "),e("p",[s._v("可以执行：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 node_modules/.bin")]),s._v("\nnpx mocha "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前提在 bin 目录存在")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 系统指令")]),s._v("\nnpx "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意: 无法执行 Bash 内置指令，如 npx cd 会报错")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"_1-2-避免全局安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-避免全局安装"}},[s._v("#")]),s._v(" 1.2 避免全局安装")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("npx create-react-app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("远程模块"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" my-react-app\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("执行以上这段指令，会做如下步骤：")]),s._v(" "),e("ol",[e("li",[s._v("将 "),e("code",[s._v("create-react-app")]),s._v(" 下载至一个临时目录")]),s._v(" "),e("li",[s._v("执行结束后将删除该文件。")])]),s._v(" "),e("p",[s._v("使用以下两个参数，指定是否进行远程下载：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("// 强制使用本地\nnpx --no-install http-server\n\n// 强制使用远程\nnpx --ignore-existing create-react-app my-react-app\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("借助 "),e("code",[s._v("npx")]),s._v(" 可以执行远程仓库的特性，可以提出 "),e("code",[s._v("npx")]),s._v(" 更具实践意义的使用场景：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 执行 Gist 代码")]),s._v("\n$ npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 远程代码必须是一个模块，即必须包含package.json和入口脚本。")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 使用不同版本的 node")]),s._v("\n$ npx node@0.12.8 -v\nv0.12.8\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"_2-总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-总结"}},[s._v("#")]),s._v(" 2.总结")]),s._v(" "),e("p",[e("code",[s._v("npx")]),s._v(" 的使用场景，主要是"),e("code",[s._v("本地依赖")]),s._v("执行和"),e("code",[s._v("全局依赖")]),s._v("执行")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("本地模块")]),s._v(" "),e("p",[s._v("可以实现 "),e("code",[s._v("node_module bin")]),s._v(" 文件夹的快速执行。")])]),s._v(" "),e("li",[e("p",[s._v("远程模块")]),s._v(" "),e("ol",[e("li",[e("code",[s._v("npx")]),s._v(" 在执行模块的时候，需要知道当前模块在本地/全局"),e("code",[s._v("node_modules")]),s._v("中是否存在，如果不存在，将进行网络下载。")]),s._v(" "),e("li",[e("code",[s._v("npx")]),s._v(" 在利用 远程模块 进行代码执行时，不会对模块进行缓存，执行结束后就删掉了。")]),s._v(" "),e("li",[s._v("可以使用 "),e("code",[s._v("npx")]),s._v(" 完成一些不想安装在本地的模块，如 "),e("code",[s._v("node")]),s._v(" 版本切换以及 "),e("code",[s._v("github")]),s._v(" 脚本执行。")])])])])])}),[],!1,null,null,null);a.default=t.exports}}]);