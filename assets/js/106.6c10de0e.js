(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{506:function(e,t,s){"use strict";s.r(t);var o=s(19),r=Object(o.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"_0-前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-前言"}},[e._v("#")]),e._v(" 0.前言")]),e._v(" "),s("h2",{attrs:{id:"_1-使用-node-官方提供的debugger模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-使用-node-官方提供的debugger模块"}},[e._v("#")]),e._v(" 1.使用 Node 官方提供的Debugger模块")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("node inspect myscript.js\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NODE_INSPECT_RESUME_ON_START")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v(" node inspect myscript.js\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[s("code",[e._v("Node")]),e._v("的"),s("code",[e._v("Debugger")]),e._v("模块的使用方式与"),s("code",[e._v("Vim")]),e._v("有点像，存在两种模式："),s("code",[e._v("repl")]),e._v("（"),s("code",[e._v("read-eval-per-line")]),e._v("）以及"),s("code",[e._v("debug")]),e._v("模式")]),e._v(" "),s("p",[e._v("在"),s("code",[e._v("debug")]),e._v("模式下：我们可以使用命令行的方式，进行代码调试：")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("cont")]),e._v(", "),s("code",[e._v("c")]),e._v(": Continue execution")]),e._v(" "),s("li",[s("code",[e._v("next")]),e._v(", "),s("code",[e._v("n")]),e._v(": Step next")]),e._v(" "),s("li",[s("code",[e._v("step")]),e._v(", "),s("code",[e._v("s")]),e._v(": Step in")]),e._v(" "),s("li",[s("code",[e._v("out")]),e._v(", "),s("code",[e._v("o")]),e._v(": Step out")]),e._v(" "),s("li",[s("code",[e._v("pause")]),e._v(": Pause running code (like pause button in Developer Tools)")])]),e._v(" "),s("p",[e._v("在"),s("code",[e._v("repl")]),e._v("模式下：可以读取状态变量。")]),e._v(" "),s("p",[e._v("参考："),s("a",{attrs:{href:"https://nodejs.org/api/debugger.html#debugger_commands_reference",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node官网-Debugger"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"_2-使用chrome的dev-tools工具进行代码调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用chrome的dev-tools工具进行代码调试"}},[e._v("#")]),e._v(" 2. 使用Chrome的dev-tools工具进行代码调试")]),e._v(" "),s("p",[e._v("使用方法：")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("node --inspect"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("9229")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("默认端口号"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" test.js\nnode --inspect-brk test.js\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("输入后，在终端会弹出一个"),s("code",[e._v("ws")]),e._v("协议("),s("code",[e._v("protocol")]),e._v(")的地址，直接将地址黏贴到"),s("code",[e._v("Chrome")]),e._v("中")]),e._v(" "),s("blockquote",[s("p",[e._v("此时"),s("code",[e._v("chrome")]),e._v('页面会显示"无法访问此网站"，不要慌这是正常的。如果想让浏览器提示'),s("code",[e._v("WebSockets request was expected")]),e._v("可以将前面的"),s("code",[e._v("ws")]),e._v("协议名称去掉即可。")])]),e._v(" "),s("p",[e._v("此时，按"),s("code",[e._v("F12")]),e._v("打开"),s("code",[e._v("Chrome-dev-tool")]),e._v("，点击"),s("code",[e._v("source")]),e._v("中的Node图标（如果链接承购，图标会变绿，未连接成功显示灰色）。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://wjs-tik.oss-cn-shanghai.aliyuncs.com/image-20220210143841324.png",alt:""}})]),e._v(" "),s("p",[e._v("之后，会一个叫"),s("code",[e._v("DevTools-Node")]),e._v("窗口，点击源代码接口即可进行调试。")]),e._v(" "),s("blockquote",[s("p",[e._v("若想要深究"),s("code",[e._v("node --inspect")]),e._v("的调试原理，可以参考：")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.barretlee.com/blog/2019/11/15/vscode-study-03-debug-protocol/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里前端专家：解密 VS Code 断点调试的原理"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"_3-使用vscode自带的调试工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用vscode自带的调试工具"}},[e._v("#")]),e._v(" 3. 使用VSCode自带的调试工具")]),e._v(" "),s("p",[e._v("使用"),s("code",[e._v("VSCode-IDE")]),e._v("左侧的"),s("code",[e._v("运行和调试")]),e._v("按钮，点击"),s("code",[e._v("创建launch.json")]),e._v("，之后会在根目录下的"),s("code",[e._v(".vscode")]),e._v("目录创建"),s("code",[e._v(".launch.json")]),e._v("文件。")]),e._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://wjs-tik.oss-cn-shanghai.aliyuncs.com/image-20220210153826747.png"}}),e._v(" "),s("p",[s("strong",[e._v("参考资料")]),e._v("：")]),e._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/d3c6e25ae815",target:"_blank",rel:"noopener noreferrer"}},[e._v("VSCode launch.json配置详解"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.barretlee.com/blog/2019/03/18/debugging-in-vscode-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里前端专家：VSCode 调试中 launch.json 配置不完全指南"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://www.barretlee.com/blog/2019/11/01/vscode-study-02-debugging/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里前端专家：带你开发和调试 VS Code 源码"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.barretlee.com/blog/2015/10/07/debug-nodejs-in-command-line/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里前端专家：NodeJS的代码调试和性能调优"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);