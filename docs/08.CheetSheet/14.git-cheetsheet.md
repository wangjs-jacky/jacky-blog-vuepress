---
title: git-cheetsheet
date: 2022-01-04 20:44:30
permalink: /pages/5857b5/
categories:
  - CheetSheet
tags:
  - git
  - CheetSheet
---

## cheetsheet
å…¥é—¨çº§åˆ«çš„git åŸºç¡€æ“ä½œï¼Œä»…ä»…æ”¶å½•ç†è§£äº†çš„ï¼Œå¸¸ç”¨çš„å‘½ä»¤ã€‚è´Ÿè´£çš„å‘½ä»¤ï¼Œåœ¨é™„å½•çš„å¤§å…¨é‡Œé¢å¯ä»¥æ‰¾åˆ°

![](https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200216020515.png) 

### git config
Git æœ‰ä¸‰å±‚çš„é…ç½®æ–‡ä»¶
1. ä»“åº“çº§çš„é…ç½®æ–‡ä»¶ï¼šåœ¨ä»“åº“çš„ `.git/config` ç›®å½•ä¸‹ï¼Œåªå¯¹æœ¬ä»“åº“æœ‰æ•ˆ
2. å…¨å±€çº§çš„é…ç½®æ–‡ä»¶ï¼šMacåœ¨ `~/.gitconfig` ç›®å½•
3. ç³»ç»Ÿçº§çš„é…ç½®æ–‡ä»¶ï¼šåœ¨Git çš„ å®‰è£…ç›®å½•ä¸‹ (ç»è¿‡æŸ¥æ‰¾ï¼Œæˆ‘çš„ç›®å½•ä¸º/usr/local/Cellar/git/2.23.0_1/.bottle/etc)

<!--more-->

```bash
# --local: ä»“åº“çº§ , --glocal: å…¨å±€çº§ , --system: ç³»ç»Ÿçº§
# æ·»åŠ é…ç½®
$ git config --global user.name "Name" # æ·»åŠ ç”¨æˆ·å --global ä»£è¡¨é…ç½®çš„å…¨å±€çš„å‚æ•°
$ git config --global user.email "email@example.com" # æ·»åŠ é‚®ç®±

# æŸ¥çœ‹é…ç½®
$ git config --list/ -l # æŸ¥çœ‹å…¨éƒ¨gité…ç½®
$ git config --get user.name/user.email # æŸ¥çœ‹å•ä¸ªé…ç½®

# åˆ é™¤é…ç½®
$ git config --unset user.name

# ç¼–è¾‘é…ç½®
$ git config -e --global

# æ·»åŠ åˆ«åï¼Œå¯¹äºä¸€äº›æ¯”è¾ƒé•¿çš„åˆ«åï¼Œå¯ä»¥ç®€åŒ–
# ä¹Ÿå¯ä»¥é€šè¿‡git config 
$ git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
$ git config --global alias.graph "log --graph --oneline"
```
### git init
```bash
$ git init  # åˆ›å»ºç©ºçš„gitä»£ç åº“
$ git init Myfolder # åˆ›å»ºæ–‡ä»¶å¤¹Myfolderï¼Œå¹¶åˆ›å»ºgitä»£ç åº“
```
### æ–‡ä»¶ï¼ˆå¢åˆ æ”¹æï¼‰
#### git add å¢
```bash
# æŠŠæŒ‡å®šçš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºä¸­
$ git add <æ–‡ä»¶è·¯å¾„>

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤çš„æ–‡ä»¶åˆ°æš‚å­˜åŒºä¸­
$ git add -u [<æ–‡ä»¶è·¯å¾„>]
$ git add --update [<æ–‡ä»¶è·¯å¾„>]

# æ·»åŠ æ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤ã€æ–°å¢çš„æ–‡ä»¶åˆ°æš‚å­˜åŒºä¸­ï¼Œçœç•¥ <æ–‡ä»¶è·¯å¾„> å³ä¸ºå½“å‰ç›®å½•
$ git add -A [<æ–‡ä»¶è·¯å¾„>]
$ git add --all [<æ–‡ä»¶è·¯å¾„>]
$ git add .  # å½“å‰ç›®å½•ï¼ˆé€’å½’å­ç›®å½•ï¼‰

# æŸ¥çœ‹æ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤ä½†æ²¡æœ‰æäº¤çš„æ–‡ä»¶ï¼Œè¿›å…¥ä¸€ä¸ªå­å‘½ä»¤ç³»ç»Ÿ
$ git add -i [<æ–‡ä»¶è·¯å¾„>]
$ git add --interactive [<æ–‡ä»¶è·¯å¾„>]

```

#### git commit æäº¤
```bash
# æŠŠæš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œè°ƒç”¨æ–‡æœ¬ç¼–è¾‘å™¨è¾“å…¥è¯¥æ¬¡æäº¤çš„æè¿°ä¿¡æ¯
$ git commit

# æŠŠæš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­å¹¶æ·»åŠ æè¿°ä¿¡æ¯
$ git commit -m "<æäº¤çš„æè¿°ä¿¡æ¯>"

# æŠŠæ‰€æœ‰ä¿®æ”¹ã€å·²åˆ é™¤çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­
# ä¸åŒ…æ‹¬æœªè¢«ç‰ˆæœ¬åº“è·Ÿè¸ªçš„æ–‡ä»¶ï¼Œç­‰åŒäºå…ˆè°ƒç”¨äº† "git add -u"
$ git commit -a -m "<æäº¤çš„æè¿°ä¿¡æ¯>"

# ä¿®æ”¹ä¸Šæ¬¡æäº¤çš„æè¿°ä¿¡æ¯
$ git commit --amend -m "desc"

# æ‹¿372a* æäº¤çš„ä¿¡æ¯ï¼ˆä½œè€…ã€æäº¤è€…ã€æ³¨é‡Šã€æ—¶é—´æˆ³ç­‰ï¼‰æ¥æäº¤å½“å‰ä¿®æ”¹
$ git commit -c 372a
```

#### git reset è¿˜åŸ

```bash
# é‡ç½®æš‚å­˜åŒºï¼Œä½†æ–‡ä»¶ä¸å—å½±å“
# ç›¸å½“äºå°†ç”¨ "git add" å‘½ä»¤æ›´æ–°åˆ°æš‚å­˜åŒºçš„å†…å®¹æ’¤å‡ºæš‚å­˜åŒºï¼Œå¯ä»¥æŒ‡å®šæ–‡ä»¶
# æ²¡æœ‰æŒ‡å®š commit ID åˆ™é»˜è®¤ä¸ºå½“å‰ HEAD
# ä¸¢å¼ƒæš‚å­˜åŒºä¸­çš„æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹ï¼ˆå·¥ä½œåŒºä¸å—å½±å“ï¼‰
$ git reset 
$ git reset --mixed 

$ git reset <æ–‡ä»¶è·¯å¾„,commit ID>
$ git reset --mixed  <æ–‡ä»¶è·¯å¾„,commit ID>

$ git reset --hard HEAD^ # å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆHEAD: å½“å‰ç‰ˆæœ¬ï¼ŒHEAD^: ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ŒHEAD~100: å¾€ä¸Š100ä¸ªç‰ˆæœ¬ï¼‰
$ git reset --hard 1234567 # å›åˆ°æŒ‡å®šç‰ˆæœ¬å·commit idï¼ˆæ­¤å¤„ï¼šcommit id å‡è®¾ä¸º1234567******ï¼ŒGitä¼šæ ¹æ®commit idçš„å‰å‡ ä½è‡ªåŠ¨å¯»æ‰¾å¯¹åº”çš„ç‰ˆæœ¬ï¼‰
$ git reset --soft HEAD~ # hard å’Œ soft çš„åŒºåˆ«åœ¨ä¸ softï¼ˆæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸­çš„æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹éƒ½ä¸ä¸¢å¼ƒï¼‰
$ git reset --merge  <commit>  // åœ¨è¢«æ±¡æŸ“çš„å·¥ä½œåŒºä¸­å›æ»šmergeæˆ–è€…

$ git reflog # æŸ¥çœ‹å‘½ä»¤å†å²
```





####  git revert ååš

```bash
# ç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€æŸæ¬¡æäº¤ï¼Œæ­¤æ¬¡æäº¤ä¹‹å‰çš„æ‰€æœ‰æäº¤éƒ½ä¼šè¢«ä¿ç•™ã€‚
$ git revert <commit ID>
```
æ¯”è¾ƒä¸€ä¸‹ git revert å’Œ git reset çš„åŒºåˆ«ï¼š

git resetæ˜¯æŠŠHEADå‘åç§»åŠ¨æ¥åˆ é™¤æäº¤ï¼Œè€Œgit revertæ˜¯ç”¨ä¸€æ¬¡æ–°çš„æäº¤æ¥å›æ»šä¹‹å‰çš„æäº¤ï¼ˆHEADä¼šç»§ç»­å‰è¿›ï¼‰ã€‚ä¸‹é¢ä¸€å¹…å›¾æ¯”è¾ƒå½¢è±¡ç”ŸåŠ¨ã€‚

![](https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20191115001540.png)



å…³äºgit çš„ç‰ˆæœ¬å›é€€çš„é—®é¢˜ï¼Œ[å»–é›ªå³°çš„åšå®¢ï¼šæ—¶å…‰ç©¿æ¢­æœº](https://www.liaoxuefeng.com/wiki/896043488029600/897013573512192)å·²ç»è®²çš„å¾ˆå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`git log` æŸ¥çœ‹â€œå½“å‰â€ç‰ˆæœ¬åº“çš„çŠ¶æ€ï¼Œä½†æ˜¯å¦‚ä½•æŸ¥çœ‹â€œæœªæ¥â€çš„ç‰ˆæœ¬åº“å‘¢ï¼Ÿå¯ä»¥é€šè¿‡`git reflog` æŸ¥çœ‹ã€‚

#### git remove åˆ é™¤

```bash
$ git rm <æ–‡ä»¶è·¯å¾„> # åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶åœ¨å·¥ä½œåŒºæˆ–ç¼“å­˜åŒºä¸­æœ‰ä¿®æ”¹ï¼Œä¼šå¤±è´¥ã€‚æœ‰ä¸¤ç§è§£å†³æ–¹å¼ï¼š1ã€å¼ºåˆ¶åˆ é™¤  2ã€åªåˆ é™¤æš‚å­˜åŒºçš„æ–‡ä»¶
$ git rm -f <æ–‡ä»¶è·¯å¾„> # 1.æ— è®ºæœ‰æ²¡æœ‰åœ¨å·¥ä½œåŒºæˆ–æš‚å­˜åŒºä¿®æ”¹ï¼Œå¼ºåˆ¶åˆ é™¤
$ git rm --cached <æ–‡ä»¶è·¯å¾„> # 2.ç§»é™¤æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œåœ¨æœ¬åœ°ä»“åº“çš„æ–‡ä»¶å¤¹ä¸­ä¿ç•™è¯¥æ–‡ä»¶
$ git rm -r <æ–‡ä»¶å¤¹è·¯å¾„> # ç§»é™¤æ–‡ä»¶å¤¹
```

### git diff

```bash
# æ¯”è¾ƒå½“å‰æ–‡ä»¶å’Œæš‚å­˜åŒºä¸­æ–‡ä»¶çš„å·®å¼‚ï¼Œæ˜¾ç¤ºæ²¡æœ‰æš‚å­˜èµ·æ¥çš„æ›´æ”¹
$ git diff

# æ¯”è¾ƒæš‚å­˜åŒºä¸­çš„æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å·®å¼‚
$ git diff --cached
$ git diff --staged

# æ¯”è¾ƒå½“å‰æ–‡ä»¶å’Œä¸Šæ¬¡æäº¤æ—¶çš„å·®å¼‚
$ git diff HEAD

# æŸ¥çœ‹ä»æŒ‡å®šçš„ç‰ˆæœ¬ä¹‹åæ”¹åŠ¨çš„å†…å®¹
$ git diff <commit ID>

# æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„å·®å¼‚
$ git diff <åˆ†æ”¯åç§°> <åˆ†æ”¯åç§°>

# æŸ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯åˆ†å¼€åå„è‡ªçš„æ”¹åŠ¨å†…å®¹
$ git diff <åˆ†æ”¯åç§°>...<åˆ†æ”¯åç§°>
# å¯ä»¥ä½¿ç”¨ Beyond Compare4 è½¯ä»¶
```



#### * git checkout  æ¢å¤ 

```bash
# å½“åœ¨æš‚å­˜åŒºä¸­æœ‰ä¿®æ”¹æ—¶ï¼Œä½¿ç”¨æš‚å­˜åŒºä¸­çš„ä¿®æ”¹è¦†ç›–å·¥ä½œåŒºä¸­çš„ <æ–‡ä»¶è·¯å¾„>
# å½“ä¸åœ¨æš‚å­˜åŒºä¸­æ—¶ï¼Œä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬åº“ä¸­çš„HEADæŒ‡é’ˆå¤„çš„ä¿®æ”¹è¦†ç›–å·¥ä½œåŒºä¸­çš„<æ–‡ä»¶è·¯å¾„>
$ git checkout -- <æ–‡ä»¶è·¯å¾„>
# ç”¨æœ¬åœ°ç‰ˆæœ¬åº“ä¸­ HEADå¤„æäº¤çš„æ–‡ä»¶ï¼Œè¦†ç›– æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶
$ git checkout HEAD <æ–‡ä»¶è·¯å¾„>
# ç”¨æœ¬åœ°ç‰ˆæœ¬åº“ä¸­ 93efå¤„æäº¤çš„æ–‡ä»¶ï¼Œè¦†ç›– æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶
$ git checkout 93ef <æ–‡ä»¶è·¯å¾„>

# æ›¿æ¢æ‰æœ¬åœ°çš„æ”¹åŠ¨ï¼Œæ–°å¢çš„æ–‡ä»¶å’Œå·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºçš„å†…å®¹ä¸å—å½±å“
$ git checkout <æ–‡ä»¶è·¯å¾„>
```

æ¢å¤æ–‡ä»¶ä¸¾ä¾‹

a æ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œcheckout  å»é™¤ä¿®æ”¹

```bash
$ cat a 
Hello world
orphan`
$ git checkout a
Updated 1 path from the index
$ cat a
Hello world

add a line
```



### git æ—¥å¿—ä¸æ–‡ä»¶çŠ¶æ€

#### git status çŠ¶æ€

```bash
# æŸ¥çœ‹å½“å‰æ‰€å¤„çš„åˆ†æ”¯æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶ï¼ˆä¼šæ˜¾ç¤ºå½“å‰æ‰€å¤„åˆ†æ”¯ï¼‰
# æ³¨1ï¼šå¤„äºæš‚å­˜åŒºçš„æ–‡ä»¶çŠ¶æ€:ï¼šstaged(å·²æš‚å­˜)ï¼›å¤„äºå·¥ä½œåŒºçš„æ–‡ä»¶çŠ¶æ€:ï¼šuntrack(æœªè·Ÿè¸ª)ã€modified(å·²ä¿®æ”¹)
# æ³¨2ï¼šå·¥ä½œåŒºä¸­çš„ç©ºç›®å½•ä¸ä¼šè¢«gitè¿½è¸ª
$ git status
$ git status <branch name>

# ä»¥ç®€çŸ­æ¨¡å¼æŸ¥çœ‹æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶
# ä¼šæ˜¾ç¤ºä¸¤åˆ—ï¼Œç¬¬ä¸€åˆ—æ˜¯æ–‡ä»¶çš„çŠ¶æ€ï¼Œç¬¬äºŒåˆ—æ˜¯å¯¹åº”çš„æ–‡ä»¶
# æ–‡ä»¶çŠ¶æ€ï¼šA æ–°å¢ï¼ŒM ä¿®æ”¹ï¼ŒD åˆ é™¤ï¼Œ?? æœªæ·»åŠ åˆ°Gitä¸­
$ git status -s
```

#### git log æ—¥å¿—

```bash
# æ‰“å°æ‰€æœ‰çš„æäº¤è®°å½•
$ git log

# æ‰“å°ä»ç¬¬ä¸€æ¬¡æäº¤åˆ°æŒ‡å®šçš„æäº¤çš„è®°å½•
$ git log <commit ID>
$ git log -- <æ–‡ä»¶>

# æ‰“å°æŒ‡å®šæ•°é‡çš„æœ€æ–°æäº¤çš„è®°å½•
$ git log -<æŒ‡å®šçš„æ•°é‡>

# é«˜çº§åŠŸèƒ½
# è®°ä¸ä½å¯ä»¥è®¾ç½®åˆ«å
$ git log -p <æ–‡ä»¶> # æ˜¾ç¤ºå‡ºæ¯æ¬¡ä¿®æ”¹çš„å†…å®¹
$ --graph  # å›¾å½¢åŒ–çš„æ–¹å¼æ˜¾ç¤º
$ --graph --oneline # å›¾å½¢åŒ–ç®€æ´æ¨¡å¼
$ --graph --oneline --name-only # å›¾åƒåŒ–ç®€æ´æ¨¡å¼ï¼ˆåªæ˜¾ç¤ºæ–‡ä»¶åæ¸…å•ï¼‰
$ --author = leon # é™å®šä½œè€…leon
$ --grep = "test" # é™å®šæ³¨é‡Š
$ --since="2018-10-7" --until='2019-10-12'
# since,until æ ‡è®°å¯¹å’Œ afterï¼Œbefore æ ‡è®°å¯¹æ˜¯ç­‰ä»·çš„
$ --after="2018-10-7" --before='2018-10-12'
$ --since=2.weeks # æœ€è¿‘2å‘¨çš„æäº¤è®°å½•
```

#### git show æ˜¾ç¤ºä¿®æ”¹

```bash
# ç»Ÿè®¡å„ä¸ªæäº¤è€…çš„æ¬¡æ•°
$ git shortlog -sn 
# æ˜¾ç¤ºä¿®æ”¹å†…å®¹(è¯¦ç»†)
$ git show 3a6c
$ git show HEAD
# æ˜¾ç¤ºæœ€è¿‘ä¸€æ¬¡æäº¤çš„ä¿®æ”¹å†…å®¹ï¼ˆä¸æ˜¾ç¤ºå…·ä½“çš„ä¿®æ”¹å†…å®¹ï¼‰
$ git show --name-only HEAD 
```

### åˆ†æ”¯ç®¡ç†

#### git branch

```bash
# åˆ—å‡ºæœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰æ‰€åœ¨åˆ†æ”¯ä»¥ "*" æ ‡å‡º
$ git branch

# åˆ—å‡ºæœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯å¹¶æ˜¾ç¤ºæœ€åä¸€æ¬¡æäº¤ï¼Œå½“å‰æ‰€åœ¨åˆ†æ”¯ä»¥ "*" æ ‡å‡º
$ git branch -v
$ git branch -r # åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ cache
$ git branch -a # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯cache
$ git branch -av # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯cacheï¼ˆå«ç®€å•è¯´æ˜ï¼‰
$ git branch -vv # æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯cacheçš„è¿½è¸ªå…³ç³»

# åˆ›å»ºæ–°åˆ†æ”¯ï¼Œæ–°çš„åˆ†æ”¯åŸºäºä¸Šä¸€æ¬¡æäº¤å»ºç«‹
$ git branch <åˆ†æ”¯å>

# ä¿®æ”¹åˆ†æ”¯åç§°
# å¦‚æœä¸æŒ‡å®šåŸåˆ†æ”¯åç§°åˆ™ä¸ºå½“å‰æ‰€åœ¨åˆ†æ”¯
$ git branch -m [<åŸåˆ†æ”¯åç§°>] <æ–°çš„åˆ†æ”¯åç§°>
# å¼ºåˆ¶ä¿®æ”¹åˆ†æ”¯åç§°
$ git branch -M [<åŸåˆ†æ”¯åç§°>] <æ–°çš„åˆ†æ”¯åç§°>

# åˆ é™¤æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯
# åˆ é™¤çš„æ—¶å€™éœ€è¦ä»è¢«åˆ é™¤çš„åˆ†åŒºåˆ‡æ¢å‡ºå»
$ git branch -d <åˆ†æ”¯åç§°>

# å¼ºåˆ¶åˆ é™¤æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯
$ git branch -D <åˆ†æ”¯åç§°>

# å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´
$ git branch --set-upstream hexo origin:hexo ??

# å¦‚æœåœ¨æœ¬åœ°æ–°å»ºäº†åˆ†æ”¯ï¼Œè¿œç¨‹æ²¡æœ‰åˆ†æ”¯çš„æƒ…å†µ
$ git branch --set-upstream origin master # å»ºç«‹è”ç³»
$ git branch -vv # æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹çš„è¿½è¸ªå…³ç³»
```

#### git checkout åˆ†æ”¯åˆ‡æ¢

```bash
# git æäº¤æµç¨‹ å·¥ä½œåŒº-> æš‚å­˜åŒº -> ç‰ˆæœ¬åº“
$ git checkout <åˆ†æ”¯åç§°> # åˆ‡æ¢åˆ†æ”¯
$ git checkout -- <file> # æ’¤é”€ä¿®æ”¹ï¼š1. æ–‡ä»¶åœ¨æ·»åŠ åˆ°ç¼“å­˜åŒºå‰ä¿®æ”¹ï¼Œåˆ™å›é€€åˆ°åŸå·¥ä½œåŒºçŠ¶æ€ï¼›2. æ–‡ä»¶åœ¨æ·»åŠ åˆ°ç¼“å­˜åŒºåä¿®æ”¹ï¼Œåˆ™å›é€€åˆ°åŸç¼“å­˜åŒºçŠ¶æ€ã€‚ä¹Ÿå³æ˜¯å°†<file>æ’¤å›åˆ°æœ€è¿‘ä¸€æ¬¡git addæˆ–git commitçŠ¶æ€ï¼ˆæ³¨ï¼š--è¡¨ç¤ºåœ¨å½“å‰åˆ†æ”¯ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼‰
$ git checkout -b <åˆ†æ”¯åç§°> # åˆ›å»ºå¹¶åˆ‡æ¢
$ git checkout --orphan <åˆ†æ”¯åç§°># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æŒ‡å®šçš„åˆ†æ”¯ï¼Œåˆ é™¤æ‰€æœ‰çš„æäº¤è®°å½•
$ git checkout -# åˆ‡æ¢åˆ°ä¸Šä¸€æ¬¡åˆ†æ”¯
```

#### git merge/rebase åˆ†æ”¯åˆå¹¶

![](https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200216020354.png)  

```bash
# æŠŠæŒ‡å®šçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ä¸‹
$ git merge <åˆ†æ”¯åç§°> # æ— å†²çªæ—¶ä¼šç›´æ¥æäº¤
$ git merge --no-commit <åˆ†æ”¯åç§°> # ä¸è‡ªåŠ¨æäº¤

$ git merge --no-ff -m "merge with no-ff" <name> # åˆå¹¶åçš„åˆ†æ”¯æœ‰å†å²è®°å½•ï¼Œè€ŒFast-Forwardåˆå¹¶ä¹‹åï¼Œåˆ†æ”¯æ²¡æœ‰å†å²è®°å½•
# Fast-Forwar çš„åˆå¹¶çš„æ–¹æ³•æ˜¯æŒ‡é’ˆçš„ç§»åŠ¨ã€‚

$ git rebase <åˆ†æ”¯åç§°> # rebase èƒ½ä¿æŒæ¸…æ™°çš„æäº¤è®°å½•ï¼Œä½†æ˜¯åˆå¹¶çš„æ“ä½œæ²¡æœ‰è®°å½•ä¸‹æ¥ï¼ˆmerge åˆ™æ˜¯ä¼šæ–°å»ºä¸€ä¸ªæäº¤ï¼‰

```

#### git tag æ ‡ç­¾

åœ¨æ­£å¼ç‰ˆæœ¬å‘å¸ƒçš„æ—¶å€™ï¼Œéœ€è¦å¯¹æŸä¸€commitåšæ ‡è®°ğŸ“Œï¼Œä½¿ç”¨tagæ¥åŒºåˆ†æ­£å¼å‘è¡Œç‰ˆæœ¬ä¸å¼€å‘ç‰ˆæœ¬

```bash
$ git tag -a v1.5.26 -m 'add compress rate' # æ–°å»ºæœ¬åœ°tag
$ git tag # æŸ¥çœ‹æ‰€æœ‰tag
$ git show v.1.5.26 # æŸ¥çœ‹ç‰¹å®š tag
$ git push origin --tags  # æäº¤è¿œç«¯tag
$ git tag -d v1.5.26 # åˆ é™¤tag
$ git push origin :ref/tags/v1.5.26 #æ¨é€ç©ºçš„åŒåç‰ˆæœ¬åˆ°çº¿ä¸Šï¼Œç”¨ä»¥åˆ é™¤çº¿ä¸Šæ ‡ç­¾
$ git fetch origin tag v1.5.26
```

#### git cherry-pick å‰ªåˆ‡

git cherry-pick ä¸€èˆ¬ç”¨äºåˆ‡æ¢åˆ†æ”¯æ—¶ç”¨åˆ°ï¼Œç›´æ¥å‰ªåˆ‡åˆ«çš„åˆ†æ”¯commit åˆ°æœ¬åˆ†æ”¯ä¸Š

- [ ] TODO è¡¥å……å›¾


```bash
$ git cherry-pick (commitID1...commitID2] # å·¦å¼€å³é—­
```





### è¿œç¨‹æ“ä½œ

#### git clone å…‹éš†

```bash
# å…‹éš†æ–‡ä»¶
# Gitæ”¯æŒå¤šç§åè®®ï¼ŒåŒ…æ‹¬httpsï¼Œä½†é€šè¿‡sshæ”¯æŒçš„åŸç”Ÿgitåè®®é€Ÿåº¦æœ€å¿«ï¼Œhttps æ¯æ¬¡æ¨é€éƒ½å¿…é¡»è¾“å…¥å£ä»¤ã€‚
git clone https://github.com/XXX/learngit.git Yourfilepath # https
git clone git@github.com:XXX/learngit.git ./lesson01 # sshï¼ˆæ¨èï¼‰

# é»˜è®¤åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºå’Œç‰ˆæœ¬åº“åç›¸åŒçš„æ–‡ä»¶å¤¹å¹¶ä¸‹è½½ç‰ˆæœ¬åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹
$ git clone <è¿œç¨‹ä»“åº“çš„ç½‘å€>

# æŒ‡å®šæœ¬åœ°ä»“åº“çš„ç›®å½•
$ git clone <è¿œç¨‹ä»“åº“çš„ç½‘å€> <æœ¬åœ°ç›®å½•>

# -b æŒ‡å®šè¦å…‹éš†çš„åˆ†æ”¯ï¼Œé»˜è®¤æ˜¯masteråˆ†æ”¯
$ git clone -b <åˆ†æ”¯åç§°> <è¿œç¨‹ä»“åº“çš„ç½‘å€> <æœ¬åœ°ç›®å½•>

# -o è®¾ç½®è¿œç¨‹ä»“åº“ä¸ºorigin
$ git clone -o <orgin name> https://github.com/kekec/Test.git 
```

#### git remote

```bash
# åˆ—å‡ºå·²ç»å­˜åœ¨çš„è¿œç¨‹ä»“åº“
$ git remote
origin 

# åˆ—å‡ºè¿œç¨‹ä»“åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œåœ¨åˆ«ååé¢åˆ—å‡ºURLåœ°å€
$ git remote -v
$ git remote --verbose
origin https://github.com/kekec/Test.git (fetch)
origin https://github.com/kekec/Test.git (push)

# æ·»åŠ è¿œç¨‹ä»“åº“
$ git remote add <è¿œç¨‹ä»“åº“çš„åˆ«å> <è¿œç¨‹ä»“åº“çš„URLåœ°å€>

# ä¿®æ”¹è¿œç¨‹ä»“åº“çš„åˆ«å
$ git remote rename <åŸè¿œç¨‹ä»“åº“çš„åˆ«å> <æ–°çš„åˆ«å>

# åˆ é™¤æŒ‡å®šåç§°çš„è¿œç¨‹ä»“åº“
$ git remote remove/rm <è¿œç¨‹ä»“åº“çš„åˆ«å>

# ä¿®æ”¹/æ˜¾ç¤ºè¿œç¨‹ä»“åº“çš„ URL åœ°å€
$ git remote set-url <è¿œç¨‹ä»“åº“çš„åˆ«å> <æ–°çš„è¿œç¨‹ä»“åº“URLåœ°å€>
$ git remoter get-url <è¿œç¨‹ä»“åº“çš„åˆ«å>

# æ˜¾ç¤ºè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ï¼ˆä¸¾ä¾‹ï¼‰
$ git remote show origin 
* remote origin
  Fetch URL: https://github.com/kekec/Test.git
  Push URL: https://github.com/kekec/Test.git
  HEAD branch: master
  Remote branches:
    master tracked
    v3.1 tracked
Local branch configured for 'git pull':
    master merges with remote master
Local refs configured for 'git push':
    master pushes to master (fast-forwardable)
    v3.1 pushes to v3.1 (up to date)
# å¯ä»¥æŸ¥çœ‹ git pull å’Œ git push çš„å…·ä½“ä¿¡æ¯

```

#### git fetch 

 ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°çš„ç‰ˆæœ¬åˆ°æœ¬åœ°åˆ†æ”¯ä¸Š

```bash
# å°†è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬å…¨éƒ¨å–å›åˆ°æœ¬åœ°
$ git fetch origin

# å°†è¿œç¨‹ä»“åº“æŒ‡å®šåˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬å–å›åˆ°æœ¬åœ°
$ git fetch orgin master/dev
```

#### * git pull 

> git pull  <è¿œç¨‹ä»“åº“å> <è¿œç¨‹åˆ†æ”¯å>:<æœ¬åœ°åˆ†æ”¯å> 

 ä»è¿œç¨‹ä»“åº“è·å–æœ€æ–°ç‰ˆæœ¬å¹¶åˆå¹¶åˆ°æœ¬åœ°ã€‚
é¦–å…ˆä¼šæ‰§è¡Œ `git fetch`ï¼Œç„¶åæ‰§è¡Œ `git merge`ï¼ŒæŠŠè·å–çš„åˆ†æ”¯çš„ HEAD åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚ 

```bash
# å…ˆæ‰§è¡Œfetchï¼Œç„¶åå°†è¿œç¨‹origin/masteråˆ†æ”¯mergeåˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼ˆæœ€åä¼šæ›´æ–°origin/master, origin/HEADæŒ‡é’ˆåˆ°æœ€æ–°æäº¤ï¼‰
$ git pull origin master
$ git pull -r origin master # å…ˆæ‰§è¡Œfetchï¼Œç„¶åå°†è¿œç¨‹origin/masteråˆ†æ”¯rebaseåˆå¹¶åˆ°masteråˆ†æ”¯
$ git pull origin master:dev # å…ˆæ‰§è¡Œfetchï¼Œç„¶åå°†è¿œç¨‹origin/master åˆ†æ”¯mergeåˆå¹¶åˆ°æœ¬åœ°devåˆ†æ”¯
```

#### * git push

 æŠŠæœ¬åœ°ä»“åº“çš„æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚

> git push <è¿œç¨‹ä»“åº“çš„åˆ«å> <æœ¬åœ°åˆ†æ”¯å>:<è¿œç¨‹åˆ†æ”¯å>

``` bash
# å°†æœ¬åœ°ä»“åº“çš„ä¿®æ”¹pushåˆ°originæ‰€æŒ‡å‘çš„è¿œç¨‹ä»“åº“URLçš„masteråˆ†æ”¯ä¸Šï¼Œå¹¶åœ¨.git/configæ–‡ä»¶ä¸­è®°å½•å½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯masterçš„å¯¹åº”å…³ç³»
$ git push -u origin master # -u åœ¨ç¬¬ä¸€æ¬¡pushçš„æ—¶å€™ä½¿ç”¨å³å¯
$ git push origin -f # å½“åˆå…¥å¯¹åº”çš„è¿œç«¯ä»“åº“æœ‰å†²çªçš„æ—¶å€™ï¼Œä½¿ç”¨å½“å‰åˆ†æ”¯æ›´æ–°
$ git push origin --all # æ¨é€æœ¬åœ°çš„æ‰€æœ‰çš„åˆ†æ”¯åˆ°å„è‡ªçš„è¿œç«¯åˆ†æ”¯


# åˆ é™¤æŒ‡å®šçš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> :<è¿œç¨‹åˆ†æ”¯å>
$ git push <è¿œç¨‹ä»“åº“çš„åˆ«å> --delete/-d <è¿œç¨‹åˆ†æ”¯å>
$ git push origin:dev # åˆ é™¤è¿œç«¯åˆ†æ”¯ dev
$ git push origin -d dev # æ•ˆæœåŒä¸Š
```



### å­˜å‚¨æ–‡ä»¶çš„åŒºå—

#### è´®è—åŒº git  stash

```bash
$ git stash # å°†å·¥ä½œåŒºä¸­æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹å¤‡ä»½å‹æ ˆåˆ°å‚¨è—åŒºï¼Œç„¶åä¸¢å¼ƒå·¥ä½œåŒºä¸æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹ã€‚
# ç»è¿‡è¯•éªŒï¼Œgit stash ä¼šä¸¢å¼ƒå·²æœ‰æ–‡ä»¶çš„ä¿®æ”¹çš„ï¼Œä¸ä¼šåˆ é™¤æ–°å»ºçš„æ–‡ä»¶ã€‚
$ git stash pop # æ¢å¤å·¥ä½œåŒºï¼Œå¹¶å°†è´®è—åŒºçš„å¤‡ä»½åˆ é™¤
$ git stash list # æŸ¥çœ‹è´®è—åŒº
stash@{0}: WIP on master: 30e5191 add a
$ git stash show -p stash@{0} # æŸ¥çœ‹æ ˆé¡¶æ–‡ä»¶çš„ä¿®æ”¹
diff --git a/a b/a
index 11817a2..399e9b0 100644
--- a/a
+++ b/a
@@ -1,3 +1,4 @@
 Hello world

 add a line
+add a line
$ git stash drop # ç›´æ¥ç§»é™¤å‚¨è—åŒºçš„æ ˆé¡¶å¤„å¤‡ä»½ï¼ˆä¸ç”¨äºæ¢å¤å½“å‰åˆ†æ”¯çš„å·¥ä½œåŒºï¼‰
$ git stash clear # æ¸…é™¤å‚¨è—åŒºæ ˆåˆ—è¡¨
$ git stash apply stash@{0} # ä½¿ç”¨stash@{0}æ¥æ¢å¤å½“å‰åˆ†æ”¯çš„å·¥ä½œåŒºï¼Œä½†ä¸ç§»é™¤å‚¨è—åŒºä¸­ä»»ä½•å¤‡ä»½
```

#### å·¥ä½œåŒº git clean

```bash
$ git clean -nd  # æ¢æµ‹å·¥ä½œåŒºä¸­æœ‰å“ªäº›æœªè¿½è¸ªçŠ¶æ€çš„æ–‡ä»¶å’Œç›®å½•
$ git clean -fd  # åˆ é™¤å·¥ä½œåŒºä¸­æœªè¿½è¸ªçŠ¶æ€çš„æ–‡ä»¶å’Œç›®å½•
```

#### æš‚å­˜åŒº git ls-files

```bash
$ git ls-files # æŸ¥è¯¢æš‚å­˜åŒºä¸­çš„æ–‡ä»¶åˆ—è¡¨ï¼ˆé€’å½’å­ç›®å½•ï¼‰
# ä¸‹é¢æ˜¯æŠ„çš„
$ git ls-files -s  // æŸ¥çœ‹æš‚å­˜åŒºä¸­æ‰€æœ‰æ–‡ä»¶çš„blobæ•°æ®å—ä¿¡æ¯
$ git ls-files -s -- README.md  // æŸ¥çœ‹æš‚å­˜åŒºä¸­çš„README.mdæ–‡ä»¶çš„blobæ•°æ®å—ä¿¡æ¯
```

### æ‰“åŒ… git archive

```bash
# å°†å½“å‰masteråˆ†æ”¯æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨zipå‹ç¼©æ–¹å¼æ‰“åŒ…åˆ°d:/file.zip
$ git archive --format zip --output ./file.zip master 
```

å›¢é˜Ÿåˆä½œåˆ†æ”¯

![](https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200216020436.png)

## TO DO LIST

- [ ] çœ‹å®Œæ•™ç¨‹[git æ•™ç¨‹](http://www.findme.wang/share/detail/id/327.html#sub6) è¡¥å……

## å‚è€ƒèµ„æ–™
- [å»–é›ªå³°gitæ•™ç¨‹](https://www.liaoxuefeng.com/wiki/896043488029600)
- [GitåŸç†ä¸å‘½ä»¤å¤§å…¨](https://www.cnblogs.com/kekec/p/9248487.html)
- [Gitå‘½ä»¤å¤§å…¨](https://www.jianshu.com/p/93318220cdce)





