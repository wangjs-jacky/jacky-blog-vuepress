---
title: 声纹识别基础知识点——Mel频带Bark频带倍频程
date: 2020-12-26 13:25:45
permalink: /pages/487e6f/
categories:
  - 声纹
  - 理论
tags:
  - 
---
# Mel频带/Bark频带/倍频程

## 1.声音的掩蔽效应

人们在安静环境中听一个声音，即使这个声音的声压级很低也可以听到，说明人耳对这个声音的听阈可以很低。但是，在倾听一个声音的同时，如果存在另一个声音（掩蔽声），就会影响到人耳对所听声音的听闻效果，这时对所听声音的听阈就要提高。**这种由于某个声音的存在而使人耳对别的声音听觉灵敏度降低的现象，称为“掩蔽效应”。**

### 纯音掩蔽

对下图进行说明，就能很好的理解纯音的**掩蔽效应**。用`60dB`，`0.3Hz`纯音为**掩蔽声**时，测得的纯音的**听阈随频率变化**的特性。其中虚线为听阈的曲线，实现则为掩蔽阈曲线。

> **听阈曲线**：在无噪环境下，纯音需要一定的声强才能被听见。如`0.1KHz`下，需要约`23dB`的强度才能被人耳听见。
>
> 注：听阈有个体差异，因而所谓正常听阈只能是一些听力正常的年轻人的听阈的统计平均值。
>
> **掩蔽量**的定义：在正常听阈的基础上，所提高的**分布量(dB量)**。

<img src="https://wjs-tik.oss-cn-shanghai.aliyuncs.com/img/20201008143509.png" style="zoom:67%;" />

### 掩蔽产生的原因

掩蔽效应是一个较为复杂的生理和心理现象。大量的统计研究表明，**一个声音对另一个声音的掩蔽量与很多因素有关，主要取决于这两个声音的相对强度和频率结构，但是听者对某个声音的注意力也会影响其它声音的掩蔽作用。**

规律：高频容易被低频掩蔽，低频很难掩蔽高频

例如，我们在欣赏音乐时，低音鼓的声压级即使并不高，我们也能从一片乐器声中清晰地听到它的声音。同理，具有高频特性的小提琴比较容易被低频的管乐器所掩蔽。



## 2.临界带宽

**参考资料**：https://www.cnblogs.com/icoolmedia/p/5187557.html

临界带宽的概念是在噪声对纯音的掩蔽效应中产生的。

定义如下：用一中心频率为`f`，带宽为`bf`的**白噪声**去掩蔽一个频率为`f`的**纯音**

1. 调节强度：首先把白噪声的强度调节到纯音刚好听不见
2. 调节带宽`bf`：调节`bf`由大到小减少（保持强度不变），起初纯音是听不见的，但当bf小到某一个临界值时，这个纯音就突然可以听见了，再继续缩小bf，纯音听起来会越来越清晰。这时刚刚能听见纯音时的带宽bf就被称为频率f的临界带宽。

> 临界带宽是随中心频率变化的，频率越高，临界带宽也越宽，**非线性**关系。
>
> 人耳朵听觉的临界效应具有临界带宽的现象在听觉生理上的依据是：根据人耳基底膜对声音频率的感受可以将基底膜划分为很多很小的部分，每一部分对应一个频率群。这些频率群可以被设计为相对应的**Bark滤波器**，就是我们通常说的**Bark域**。



## 3.Bark尺度

由于人耳对声音的感知（如：频率、音调）是**非线性的**，为了对声音的感知进行度量，产生了一系列的尺度（如：十二平均律），这里重点说下Bark尺度与Mel尺度。

Bark（巴克）频率尺度是以Hz为单位，把频率映射到心理声学的24个临界频带上，第25个临界频带占据约：`16K~20kHz`的频率，1个临界频带的宽度等于一个Bark，简单的说，Bark尺度是把物理频率转换到心理声学的频率。Bark尺度频率的中心频率与临界带宽边界频率如下表所示：

| 临界频带 |              |   频率/Hz    |              |
| :------: | :----------: | :----------: | :----------: |
| Bark频带 | **中心频率** | **下界频率** | **上界频率** |
|    1     |      50      |      0       |     100      |
|    2     |     150      |     100      |     200      |
|    3     |     250      |     200      |     300      |
|    4     |     350      |     300      |     400      |
|    5     |     450      |     400      |     510      |
|    6     |     570      |     510      |     630      |
|    7     |     700      |     630      |     770      |
|    8     |     840      |     770      |     920      |
|    9     |     1000     |     920      |     1080     |
|    10    |     1170     |     1080     |     1270     |
|    11    |     1370     |     1270     |     1480     |
|    12    |     1600     |     1480     |     1720     |
|    13    |     1850     |     1720     |     2000     |
|    14    |     2150     |     2000     |     2320     |
|    15    |     2500     |     2320     |     2700     |
|    16    |     2900     |     2700     |     3150     |
|    17    |     3400     |     3150     |     3700     |
|    18    |     4000     |     3700     |     4400     |
|    19    |     4800     |     4400     |     5300     |
|    20    |     5800     |     5300     |     6400     |
|    21    |     7000     |     6400     |     7700     |
|    22    |     8500     |     7700     |     9500     |
|    23    |    10500     |     9500     |    12000     |
|    24    |    13500     |    12000     |    15500     |
|    25    |    18775     |    15500     |    22050     |

由于[临界频带](https://zh.wikipedia.org/w/index.php?title=临界频带&action=edit&redlink=1)的直接测量存在主观误差，上表中的值已经经过取整。

根据相关的心理声学的研究，由于人耳的特殊结构，在同一个临界频带里头信号容易发生掩蔽效应，即：主要信号容易被能量大并且频率接近的掩蔽信号所掩蔽。因此我们可以认为Bark域约近的信号越容易产生掩蔽效应。

**然而，上表的Bark域表示必须通过查表获得**，在上个世纪80年代左右到90年代左右学者们提出了各种近似函数来近似表示**Bark域**。其中包括：

|        学者（时间）         | 公式                                                         |
| :-------------------------: | ------------------------------------------------------------ |
|  Zwicker & Terhardt (1980)  | (1) $Bark = 13tan^{-1}(0.76f/1000) + 3.5tan^{-1}(f/7500)^2$<br />(2) $Bark= 8.7 + 14.2log_{10}(f/1000)$ |
|       Terhardt (1979)       | (3) $Bark = 13.3tan^{-1}(0.75f/1000)$<br />(4) $Bark = 12.82tan^{-1}(0.78f/1000) + 0.17(f/1000)^{1.4}$ |
| Wang, Sekey & Gersho (1992) | (5) $Bark = 6sinh^{-1}(f/600)$                               |
|      Schroeder (1977)       | (6)$Bark = 7sinh^{-1}(f/650)$                                |
|     Traunmüller (1990)      | (7) $Bark = 26.81/(1+(1960/f)) - 0.53$                       |



**简化的Matlab代码**：

> 完整代码见附录

```matlab
f = 0:22050;
Bark_1980_1 = 13*atan(0.76*f / 1000) + 3.5 * atan(f.^2 / ((7500)^2));
Bark_1980_2 = 8.7 + 14.2*log10(f/1000);
Bark_1979_1 = 13.3*atan(0.75*f/1000);
Bark_1979_2 = 12.82*atan(0.78*f/1000) + 0.17*((f / 1000).^1.4);
Bark_1992 = 6*asinh(f/600);
Bark_1977 = 7*asinh(f/650);
Bark_1990 = 26.81./(1+(1960./f)) - 0.53;
```

<img src="https://wjs-tik.oss-cn-shanghai.aliyuncs.com/img/20201008155949.png" style="zoom:67%;" />

<img src="https://wjs-tik.oss-cn-shanghai.aliyuncs.com/img/20201008160021.png" style="zoom:67%;" />

**参考资料**：

1. https://blog.csdn.net/icoolmedia/article/details/51594776?utm_source=blogxgwz9
2. https://blog.csdn.net/ssdzdk/article/details/40373311



# 附录：

```matlab
clear;clc;close all;
%% 绘制现实频率与心理声学频率的转换关系
f = 0:22050;
Bark_1980_1 = 13*atan(0.76*f / 1000) + 3.5 * atan(f.^2 / ((7500)^2));
Bark_1980_2 = 8.7 + 14.2*log10(f/1000);
Bark_1979_1 = 13.3*atan(0.75*f/1000);
Bark_1979_2 = 12.82*atan(0.78*f/1000) + 0.17*((f / 1000).^1.4);
Bark_1992 = 6*asinh(f/600);
Bark_1977 = 7*asinh(f/650);
Bark_1990 = 26.81./(1+(1960./f)) - 0.53;

f1 = figure();
plot(f, Bark_1980_1, f, Bark_1980_2, f, Bark_1979_1, f, Bark_1979_2, f, Bark_1992, f, Bark_1977, f, Bark_1990);
legend('Bark19801', 'Bark19802', 'Bark19791', 'Bark19792', 'Bark1992', 'Bark1977', 'Bark1990','location','best');
set(gcf,'color','w');grid on;
xlim([min(f),max(f)]);ylim([0,30]);
xlabel('Freqency(Hz)');
ylabel('Bark');
title('各个公式Bark和频率的对应关系')

%% 补充中心频率
% 输入中心频率
fc = [50,150,250,350,450,570,700,840,1000,1170,1370,1600,1850,2150,2500,2900,3400,4000,4800,5800,7000,8500,10500,13500];

Bark_1980_1c = 13*atan(0.76*fc / 1000) + 3.5 * atan(fc.^2 / ((7500)^2));
Bark_1980_2c = 8.7 + 14.2*log10(fc/1000);
Bark_1979_1c = 13.3*atan(0.75*fc/1000);
Bark_1979_2c = 12.82*atan(0.78*fc/1000) + 0.17*((fc / 1000).^1.4);
Bark_1992c = 6*asinh(fc/600);
Bark_1977c = 7*asinh(fc/650);
Bark_1990c = 26.81./(1+(1960./fc)) - 0.53;

f2 = figure();
plot(f, Bark_1980_1, f, Bark_1980_2, f, Bark_1979_1, f, Bark_1979_2, f, Bark_1992, f, Bark_1977, f, Bark_1990);hold on;
legend('Bark19801', 'Bark19802', 'Bark19791', 'Bark19792', 'Bark1992', 'Bark1977', 'Bark1990','location','best');
plot(fc, Bark_1980_1c,'x');
plot(fc, Bark_1980_2c,'x');
plot(fc, Bark_1979_1c,'x');
plot(fc, Bark_1979_2c,'x');
plot(fc, Bark_1992c,'x');
plot(fc, Bark_1977c,'x');
plot(fc, Bark_1990c,'x');

set(gcf,'color','w');grid on;
xlim([min(f),max(f)]);ylim([0,30]);
xlabel('Freqency(Hz)');
ylabel('Bark');
title('各个公式Bark和频率的对应关系')


%% 查看是否为线性分布
f3 = figure();
plot(1:length(fc),'linewidth',5,'color',[.6 .6 .6]);hold on;
plot(Bark_1980_1c,'x-.');
plot(Bark_1980_2c,'x-.');
plot(Bark_1979_1c,'x-.');
plot(Bark_1979_2c,'x-.');
plot(Bark_1992c,'x-.');
plot(Bark_1977c,'x-.');
plot(Bark_1990c,'x-.');
set(gcf,'color','w');
legend('线性','Bark19801', 'Bark19802', 'Bark19791', 'Bark19792', 'Bark1992', 'Bark1977', 'Bark1990','location','best');
ylabel('Bark');
xlabel('24个临界频带');
set(gca,'xtick',1:24);
ylim([0,30]);
grid on;
title('各中心频率对应的Bark值')
```

